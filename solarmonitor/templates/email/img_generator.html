<html>
<body>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.4/Chart.min.js" type="text/javascript"></script>
  <div class="col col-xs-6">
    <canvas id="myChart" width="380" height="200"></canvas>
  </div>

  </div>

  <script>

  var data = {
  labels: {{ energy_account.production_net_usage_percentage_graph(start_date, end_date)[3]|safe }},
  datasets: [
    {
        label: 'Production %',
        backgroundColor: "rgba(43,83,207,0.2)",
        borderColor: "rgba(25,60,168,1)",
        borderWidth: 1,
        hoverBackgroundColor: "rgba(43,83,207,0.4)",
        hoverBorderColor: "rgba(25,60,168,1)",
        data: {{ energy_account.production_net_usage_percentage_graph(start_date, end_date)[0]|safe }},
    },
    {
        label: 'Net Input %',
        backgroundColor: "rgba(127,191,63,0.2)",
        borderColor: "rgba(9,174,9,1)",
        borderWidth: 1,
        hoverBackgroundColor: "rgba(127,191,63,0.4)",
        hoverBorderColor: "rgba(9,174,9,1)",
        data: {{ energy_account.production_net_usage_percentage_graph(start_date, end_date)[1]|safe }},
    },
    {
        label: 'Net Usage %',
        backgroundColor: "rgba(168,25,25,0.2)",
        borderColor: "rgba(138,16,16,1)",
        borderWidth: 1,
        hoverBackgroundColor: "rgba(168,25,25,0.4)",
        hoverBorderColor: "rgba(138,16,16,1)",
        data: {{ energy_account.production_net_usage_percentage_graph(start_date, end_date)[2]|safe }},
    },
  ]
  };
  var ctx = document.getElementById("myChart");
  var myChart = new Chart(ctx, {
  type: 'bar',
  data: data,
  options: {
      animation: false,
      scales: {
          yAxes: [{
              stacked: true,
              ticks: {
                  beginAtZero:true
              }
          }],
          xAxes: [{
              stacked: true
          }]
      }
  }
  });
  </script>
</body>
</html>
